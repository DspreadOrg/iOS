here is readMe

Update emv config

There are two function you can use to update the emv configure of your terminal:updateEmvAPP and updateEmvCAPK

1.updateEMVAPP

     -(void)updateEmvAPP:(NSInteger )operationType data:(NSMutableDictionary*)data  block:(void (^)(BOOL isSuccess, NSString *stateStr))updateEMVAPPBlock;
     
     Parameters: 
    
    1.operationType:
         EMVOperation_update: update a certain tag
    2.data: 
         If you want to update the tag of 	visa aid,pls organise the data like this:
             Data format:[AID (optional)+ EMVAPPDict.TAG + length of tag value + tag value]
         
        e.g.: data =[EMVAPPDict.Contactless_reader_trading_limit+ 06 + 000000100000]  

  visa emv app demo:
         
         EMVAPP = { aid : A0000000031010
         tac_default : 584000A800
         tac_denial : 0010000000
         tac_online 584004F800
         target_percent : 0
         max_target_percent : 0
         threshold_value : 0
         floorlimit : 0
         app_ver : 0096
         pos_entry : 05
         acq_id : 01234567890
         mer_category_code : 1234
         merchant_id : DSPREAD
         merchant_name_and_location : DSPREAD
         trans_curr_code : 0840
         trans_curr_exp : 0
         trans_ref_curr_code : 0840
         trans_ref_curr_exp : 0
         term_country_code : 0840
         ifd_serial_num : 83201ICC
         terminal_id : 11111111
         default_ddol : 9f3704
         default_tdol : 9F1A0295059A039C01
         app_sel_indicator : partial
         }

     
e.g. code :
  

      
     NSMutableArray * data = [[NSMutableArray alloc]init];
     NSMutableDictionary * emvappdict = [pos getEMVAPPDict];
     NSString * a  = [[emvappdict valueForKey:@"Contactless_reader_trading_limit"] stringByAppendingString:@"06000000100000"];
     [data addObject:a];
     [pos updateEmvAPP:EMVOperation_update data:data  block:^(BOOL isSuccess, NSString *stateStr) {
        if (isSuccess) {
            self.textViewLog.text = stateStr;
        }
    }];
    
2.updateEMVCAPK

     -(void)updateEMVCAPK:(NSInteger )operationType data:(NSMutableDictionary*)data  block:(void (^)(BOOL isSuccess, NSString *stateStr))updateEMVAPPBlock;
     
     Parameters: 
    
    1.operationType:
         EMVOperation_update: update a certain tag
    2.data: 
         If you want to update the tag of 	visa aid,pls organise the data like this:
             Data format:[AID (optional)+ EMVAPPDict.TAG + length of tag value + tag value]
         
        e.g.: data =[EMVAPPDict.Contactless_reader_trading_limit+ 06 + 000000100000]  

  visa emv app demo:
         
     {rid : A000000003
      index :07
      expired_date>20311217
      pk_modulus:A89F25A56FA6DA258C8CA8B40427D927B4A1EB4D7EA326BBB12F97DED70AE5E4480FC9C5E8A972177110A1CC318D06D2F8F5C4844AC5FA79A4DC470BB11ED635699C17081B90F1B984F12E92C1C529276D8AF8EC7F28492097D8CD5BECEA16FE4088F6CFAB4A1B42328A1B996F9278B0B7E3311CA5EF856C2F888474B83612A82E4E00D0CD4069A6783140433D50725F
      pk_exponent:000003
      }


     
e.g. code :
  

       
    NSMutableArray * data = [[NSMutableArray alloc]init];
    NSMutableDictionary * emvCapkDict = [pos getEMVCAPK];
        NSString * a  = [[emvCapkDict valueForKey:@"Public_Key_Index"] stringByAppendingString:@"0101"];
        [data addObject:a];
        [pos updateEmvCAPK:EMVOperation_update data:data  block:^(BOOL isSuccess, NSString *stateStr) {
            if (isSuccess) {
                self.textViewLog.text = stateStr;
            }
        }];